<div class="signup-container">
  <h2 class="app-title">Book Haven</h2>
  <h1>{{'SIGNUP-PAGE.SIGNUP' | translate}}</h1>
  <form [formGroup]="form" (ngSubmit)="submit()">

    <div class="form-group">
      <label for="firstname">{{'SIGNUP-PAGE.FIRSTNAME' | translate}}</label>
      <input id="firstname" formControlName="firstname" placeholder="{{'SIGNUP-PAGE.FIRSTNAME' | translate}}" required />
    </div>
    @if (form.controls.firstname.invalid && form.controls.firstname.touched) {
      <div class="error">
        @if (form.controls.firstname.errors?.['required']) {
          <small>{{'SIGNUP-PAGE.INCORRECTLY_COMPLETED_DATA' | translate}}</small>
        }
      </div>
    }

    <div class="form-group">
      <label for="lastname">{{'SIGNUP-PAGE.LASTNAME' | translate}}</label>
      <input id="lastname" formControlName="lastname" placeholder="{{'SIGNUP-PAGE.LASTNAME' | translate}}" required />
    </div>
    @if (form.controls.lastname.invalid && form.controls.lastname.touched) {
      <div class="error">
        @if (form.controls.lastname.errors?.['required']) {
          <small>{{'SIGNUP-PAGE.INCORRECTLY_COMPLETED_DATA' | translate}}</small>
        }
      </div>
    }

    <div class="form-group">
      <label for="email">{{'SIGNUP-PAGE.EMAIL' | translate}}</label>
      <input id="email" formControlName="email" placeholder="{{'SIGNUP-PAGE.EMAIL' | translate}}" required />
    </div>
    @if (form.controls.email.invalid && form.controls.email.touched) {
      <div class="error">
        @if (form.controls.email.errors?.['required']) {
          <small>{{ 'SIGNUP-PAGE.INCORRECTLY_COMPLETED_DATA' | translate }}</small>
        } @else if (form.controls.email.errors?.['email']) {
          <small>{{ 'ERROR.EMAIL_IS_INCORRECTLY_FORMATTED' | translate }}</small>
        }
      </div>
    }

    <div class="form-group">
      <label for="username">{{'LOGIN-PAGE.USERNAME' | translate}}</label>
      <input id="username" formControlName="username" placeholder="{{'LOGIN-PAGE.USERNAME' | translate}}" required />
    </div>
    @if (form.controls.username.invalid && form.controls.username.touched) {
      <div class="error">
        @if (form.controls.username.errors?.['required']) {
          <small>{{'LOGIN-PAGE.INCORRECT_USERNAME' | translate}}</small>
        } @if (form.controls.username.errors?.['username']) {
        <small>{{'LOGIN-PAGE.ENTER_A_VALID_USERNAME' | translate}}</small>
      }
      </div>
    }
    <div class="form-group">
      <label for="password">{{'LOGIN-PAGE.PASSWORD' | translate}}</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        placeholder="{{'LOGIN-PAGE.PASSWORD' | translate}}"
        required
      />
    </div>
    @if (form.controls.password.invalid && form.controls.password.touched) {
      <div class="error">
        @if (form.controls.password.errors?.['required']) {
          <small>{{'LOGIN-PAGE.INCORRECT_PASSWORD' | translate}}</small>
        } @if (form.controls.password.errors?.['minlength']) {
        <small>{{'LOGIN-PAGE.ENTER_THE_CORRECT_PASSWORD' | translate}}</small>
      }
      </div>
    }

    <div class="form-group">
      <label for="repeated_password">{{'SIGNUP-PAGE.REPEATED_PASSWORD' | translate}}</label>
      <input
        id="repeated-repeated_password"
        type="password"
        formControlName="repeatedPassword"
        placeholder="{{'SIGNUP-PAGE.REPEATED_PASSWORD' | translate}}"
        required
      />
    </div>
    @if (form.controls.repeatedPassword.invalid && form.controls.repeatedPassword.touched) {
      <div class="error">
        @if (form.controls.repeatedPassword.errors?.['required']) {
          <small>{{'LOGIN-PAGE.INCORRECT_PASSWORD' | translate}}</small>
        } @if (form.controls.repeatedPassword.errors?.['minlength']) {
        <small>{{'LOGIN-PAGE.ENTER_THE_CORRECT_PASSWORD' | translate}}</small>
      }
      </div>
    }

    @if (errorMessage) {
      <div class="error">
        <small>{{errorMessage | translate}}</small>
      </div>
    }

    <br>
    <button type="submit" class="signup-btn">{{'SIGNUP-PAGE.SIGNUP' | translate}}</button>

  </form>

</div>
